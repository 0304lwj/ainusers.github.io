<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <!--添加自适应标签-->
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" shrink-to-fit=no">
        <title>甜先森</title>
        <!--title上面添加icon-->
        <link rel="shortcut icon" href="../../../images/head/head.png"/>
    </head>
    <style type="text/css">

    </style>

    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link href="../../../product/bootstrap/css/bootstrap.css" type="text/css" rel="stylesheet">
    <link href="../../../css/quanzhan/mianshi/mianshi.css" type="text/css" rel="stylesheet">

<body>
    <div class="containers">
        <div class="col-md-12">
            <div class="contents">
                <!--提示信息-->
                <div class="bs-example bs-example-standalone" data-example-id="dismissible-alert-js">
                    <div class="alert alert-info alert-dismissible fade in" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <strong>注意：</strong> 关注版本迭代
                    </div>
                </div>
                <!--content-->
                <figure class="highlight">
                    <pre>
                        <code class="language-html" data-lang="html">
一、jdk8
    函数接口：一个接口中只包含一个方法，则可以使用Lambda表达式。
    在线编辑工具：http://www.it1352.com/onlinetools/details/4
    1）遍历list集合
        public static void main(String args[]){
            List features = Arrays.asList("a", "b", "c", "d");
            features.forEach(n -> System.out.print(n));
            System.out.println("");
            features.forEach(System.out::print);
        }

        输出结果：
            abcd
            abcd
    2）数据过滤
        2.1 单条件过滤 (拆分)
            List<String> lists = Arrays.asList("a", "bb", "ccc", "dddd", "eeeee");
            //过滤后第一种输出方式
            List<String> results = lists.stream().filter(x -> x.length() > 2).collect(Collectors.toList());
            System.out.printf("lists : %s, results : %s %n", lists, results);
            //过滤后第二种输出方式
            lists.stream().filter(x -> x.length() > 2).forEach((result)->{System.out.print(result);});


        2.2 单条件过滤 (封装)
            @Test
            public void contextLoads() {
                List languages = Arrays.asList("Java", "Scala", "C++", "Haskell", "Lisp");

                System.out.println("Languages which ends with a ");
                filter(languages, (str)->str.toString().endsWith("a"));

                System.out.println("Print language whose length greater than 4:");
                filter(languages, (str)->str.toString().length() > 4);
            }
            //过滤方法
            public static void filter(List names, Predicate condition) {
                names.stream().filter((name) -> (condition.test(name))).forEach((name) -> {
                    System.out.println(name + " ");
                });
            }

            输出结果:
                Languages which ends with a
                Java
                Scala
                Print language whose length greater than 4:
                Scala
                Haskell


        2.3 多条件过滤
            @Test
            public void contextLoads() {
                List languages = Arrays.asList("Java", "Scala", "C++", "Haskell", "Lisp");

                Predicate<String> startsWithJ = (n) -> n.endsWith("a");
                Predicate<String> fourLetterLong = (n) -> n.length() == 4;
                filter(languages,startsWithJ,fourLetterLong);
            }
            //过滤方法
            public static void filter(List names, Predicate startsWithJ,Predicate fourLetterLong) {
                names.stream().filter(startsWithJ.and(fourLetterLong))
                        .forEach((n) -> System.out.println("end with 'a' and four letter long is : " + n));
            }

            输出结果：
                end with 'a' and four letter long is : Java
    3）Map和Reduce思想
        3.1 每个订单加上12%的税
            double bill = lists.stream()
                .map((cost) -> cost + .12*cost)
                .reduce((sum, cost) -> sum + cost)
                .get();
            System.out.println("Total : " + bill);

            输出结果：
                Total : 44.8

        3.2 对列表的每个元素应用函数
            List<String> lists = Arrays.asList("USA", "Japan", "France", "Germany", "Italy", "UK","Canada");
            String results = lists.stream().map(x -> x.toUpperCase()).collect(Collectors.joining(","));
            System.out.println(results);

            输出结果
                USA,JAPAN,FRANCE,GERMANY,ITALY,UK,CANADA


        3.3 对列表进行加工、排序、去重
            List<Integer> numbers = Arrays.asList(9, 10, 3, 4, 7, 3, 4);
            List<Integer> distinct = numbers.stream().map( i -> i+1).sorted().distinct().collect(Collectors.toList());
            System.out.printf("Original List : %s,  Result List : %s %n", numbers, distinct);

            输出结果
                Original List : [9, 10, 3, 4, 7, 3, 4],  Result List : [4, 5, 8, 10, 11]

        3.4 对列表进行计算
            List<Integer> primes = Arrays.asList(2, 3, 5, 7, 11);
            IntSummaryStatistics stats = primes.stream().mapToInt((x) -> x).summaryStatistics();
            System.out.println("getCount : " + stats.getCount());
            System.out.println("getMax : " + stats.getMax());
            System.out.println("getMin : " + stats.getMin());
            System.out.println("getSum : " + stats.getSum());
            System.out.println("getAverage : " + stats.getAverage());

            输出结果
                getCount : 5
                getMax : 11
                getMin : 2
                getSum : 28
                getAverage : 5.6
    4) xxx


二、es6(块级作用域、解构)
    1.1 变量定义
        var声明变量：  无论声明在何处，都会被视为声明在函数的最顶部
        let声明变量：  不会被变量提升(var会[块级作用域])
        const声明变量：定义的常量不能被修改(var能[块级作用域])
                      并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动）
        注意：
            1.代码块中let声明变量之前，不允许赋值
            2.相同作用域内let声明后不允许重复声明
        范例：
            console.log(a)
            console.log(b)
            var a = 'hello';
            let b = 'hello';
        输出：
            undefined
            b is not defined
        案例：
            var a = [];
            for (let i = 0; i < 10; i++) {
                a[i] = function () {
                    console.log(i);
                };
            }
            var b = [];
            for (var i = 0; i < 10; i++) {
                //console.log(i)
                b[i] = function () {
                    console.log(i);
                };
            }
            a[6](); // 6  i只在本轮循环中有效
            b[6](); // 10
    1.2 import、export
    1.3 class、extends、constructor
        class Animal {
            constructor() {
                this.type = 'animal';
            }
            says(say) {
                console.log(this.type + ' says ' + say);
            }
        }
        let animal = new Animal();
        animal.says('hello'); //animal says hello

        class Cat extends Animal {
            constructor() {
                super();
                this.type = 'cat';
            }
        }
        let cat = new Cat();
        cat.says('hello'); //cat says hello
    1.4 arrow functions (箭头函数：[第一个参数是形参，第二个参数是返回值])
        // ES5
        var arr1 = [1, 2, 3];
        var newArr1 = arr1.map(function(x) {
            return x + 1;
        });
        console.log(newArr1)
        // ES6
        let arr2 = [1, 2, 3];
        let newArr2 = arr2.map((x) => {
            return x + 1
        });
        console.log(newArr2)
    1.5 字符串模板(对固定格式字符串进行变量替换)
        1.5.1 字符串拼接
            // es5
            var name1 = "es5";
            console.log('hello' + name1);
            // es6
            const name2 = "es6";
            console.log(`hello${name2}`);
        1.5.2 多行字符串拼接
            // es5
            $('#result').append(
              'There are <b>' + basket.count + '</b> ' +
              'items in your basket, ' +
              '<em>' + basket.onSale +
              '</em> are on sale!'
            );
            // es6
            $('#result').append(`
              There are <b>${basket.count}</b> items
               in your basket, <em>${basket.onSale}</em>
              are on sale!
            `);
        1.5.3// 字符串中嵌入变量
                let name = "Bob", time = "today";
                `Hello ${name}, how are you ${time}?`
        1.5.4 新增方法
            let str = 'hahah!';
            // es5
            console.log(str.indexOf('hah') != -1)   // true
            // es6
            console.log(str.includes('hah'));       // true
            console.log(s.startsWith('ha'));        // true
            console.log(s.endsWith('!'));           // true
            console.log(s.endsWith('ha', 5));       // true
            console.log('na'.repeat(-0.9));         // ""
        1.5.5 获取对象元素
            // ES5
            var people1 = {
                name: 'es5',
                age: 20,
                color: ['red', 'blue']
            };
            var myName = people1.name;
            var myAge = people1.age;
            var myColor = people1.color[0];
            console.log(myName + '----' + myAge + '----' + myColor);
            // ES6
            let people2 = {
                name: 'es6',
                age: 20,
                color: ['red', 'blue']
            }
            let { name, age } = people2;
            let [color] = people2.color;
            console.log(`${name}----${age}----${color}`);
        1.5.6 rest 参数 (解决可变长参数问题)
            //es6
            function foo(x, y, ...rest) {
                return ((x + y) * rest.length);
            }
            console.log(foo(1, 2, 'hello', true, 7)); // 9
            //获取可变长参数的第二个？（1.先将可变长参数转变为数组再获取2.var content = [1,2,3]; var a = [...content]; console.log(`${a[2]}`);）
        1.5.7 字符串遍历
            for (let codePoint of 'foo') {
              console.log(codePoint)
            }
            // "f"
            // "o"
            // "o"
        1.5.8 js表达式
            1.5.8.1 函数调用
                function fn() {
                  return "Hello World";
                }
                `foo ${fn()} bar`
                // foo Hello World bar
            1.5.8.2 表达式计算
                    (大括号内部可以放入任意的 JavaScript 表达式，可以进行运算，以及引用对象属性)
                    let x = 1;
                    let y = 2;
                    `${x} + ${y} = ${x + y}`
                    //"1 + 2 = 3"
    1.6  Spread Operator (展开运算符)
        1.6.1 组装数组
            let color = ['red', 'yellow'];
            let color2 = ['green', 'blue'];
            let colorful = [...color, 'green', 'blue'];
            //es5
            console.log(color.concat(color2)); // ["red", "yellow", "green", "blue"]
            //es6
            console.log(colorful); // ["red", "yellow", "green", "blue"]
        1.6.2 数组合并
            // ES6 的写法
            let arr1 = [0, 1, 2];
            let arr2 = [3, 4, 5];
            arr1.push(...arr2);
        1.6.3 获取数组的某几项元素
            let num = [1, 3, 5, 7, 9];
            let [a, b, ...rest] = num;
            // es6
            console.log(num.slice(2,num.size)); // [5, 7, 9]
            // es5
            console.log(rest); // [5, 7, 9]
    1.7 写法省略
        1.7.1 对象初始化省略
            // ES5
            function es5(name, age) {
                return {
                    name: name,
                    age: age
                };
            }
            // ES6
            function es6(name, age) {
                return {
                    name,
                    age
                };
            }
            console.log(es5('a',1))
            console.log(es6('b',2))
        1.7.2 省略冒号与 function 关键字
            // ES5
            var people1 = {
                name: 'es5',
                getName: function () {
                    console.log(this.name);
                }
            };
            // ES6
            let people2 = {
                name: 'es6',
                getName () {
                    console.log(this.name);
                }
            };
            console.log(people1)
            console.log(people2)
    1.8 给目标对象添加属性/合并对象 (重复会覆盖)
        const target = { a: 1, b: 2 };
        const source = { b: 4, c: 5 };
        const es6 = Object.assign(target, source);
        console.log(es6);  // { a: 1, b: 4, c: 5 }
    1.9 promise
        1.9.1 异步操作后的回调函数
            function test(resolve, reject) {
                var mrs = Math.random()
                var timeOut = mrs * 2;
                setTimeout(function () {
                    console.log(timeOut)
                    if (timeOut < 1) {
                        resolve('200 OK');
                    }
                    else {
                        reject('timeout in ' + timeOut + ' seconds.');
                    }
                }, timeOut * 10);
            }
            new Promise(test).then(function (result) {
                console.log('成功：' + result);
            }).catch(function (reason) {
                console.log('失败：' + reason);
            });
    2.0 Generators 生成器
        //es5
        function fib(max) {
            var
                t,
                a = 0,
                b = 1,
                arr = [0, 1];
            while (arr.length < max) {
                [a, b] = [b, a + b];
                arr.push(b);
            }
            return arr;
        }
        console.log(fib(5))
        //es6
        function* fib2(max) {
            var
                t,
                a = 0,
                b = 1,
                n = 0;
            while (n < max) {
                yield a;
                [a, b] = [b, a + b];
                n ++;
            }
            return;
        }
        //调用 (或者var f = fib(5); f.next().value; 只返回一次)
        for (var x of fib2(5)) {
            console.log(x)
        }
    2.1 数组的解构赋值(ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构)
        规则：解构赋值的规则是，只要等号右边的值不是对象或数组，就先将其转为对象。由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错
        2.1.1 数组解构：数组的元素是按次序排列的
        2.1.2 对象解构：对象的属性没有次序，变量必须与属性同名
            let { foo: baz } = { foo: "aaa", bar: "bbb" };
            baz // "aaa"
            foo // error: foo is not defined
        2.1.3 字符串解构
            let {length : len} = 'hello';
            len // 5
        2.1.4 函数参数解构
            [[1, 2], [3, 4]].map(([a, b]) => a + b);
            // [ 3, 7 ]
        用途1：交换变量的值
            let x = 1;
            let y = 2;
            [x, y] = [y, x];
        用途2：函数返回多个值
            function example() {
              return [1, 2, 3];
            }
            let [a, b, c] = example();
        用途3：提取 JSON 数据
            let jsonData = {
              id: 42,
              status: "OK",
              data: [867, 5309]
            };
            let { id, status, data: number } = jsonData;
        用途4：遍历 Map 结构
            const map = new Map();
            map.set('first', 'hello');
            map.set('second', 'world');
            for (let [key, value] of map) {
              console.log(key + " is " + value);
            }
            // first is hello
            // second is world
    2.2 运算符扩展
        ...符号：可用于不定参修饰、也可用于函数/变量调用
        // 对象转数组
        let arrayLike = {
            '0': 'a',
            '1': 'b',
            '2': 'c',
            length: 3
        };
        let arr2 = Array.from(arrayLike); // ['a', 'b', 'c']
        .find
        Array.of()
        .fill
        .includes
        .flat
    2.3 对象扩展
        2.3.1 封装方法的简写
            const o = {
              method() {
                return "Hello!";
              }
            };
            // 等同于
            const o = {
              method: function() {
                return "Hello!";
              }
            };
    2.4 新增函数
        2.4.1 判断两值是否相等
            Object.is('foo', 'foo')
        2.4.2 合并对象（浅拷贝）
            const target = { a: 1 };
            const source1 = { b: 2 };
            const source2 = { c: 3 };
            Object.assign(target, source1, source2);
            target // {a:1, b:2, c:3}
        2.4.3 assign（更改数据集）
            function processContent(base,options) {
                return options = Object.assign({},base, options);
            }
            console.log(processContent({url: {host: 'example.com',port: 7070}},{ url: {port: 8000} }))
        2.4.4 setPrototypeOf（设置对象属性）
            Object.setPrototypeOf({ x: 10 }, {});
        2.4.5 获取map对象的键和值
            Object.keys
            Object.values
        2.4.6 将键值对数组转为对象
            Object.fromEntries()
    2.5 Symbol（作为唯一性标识）
        javascript数据类型：undefined、null、布尔值（Boolean）、字符串（String）、数值（Number）、对象（Object）、Symbol
        2.5.1 消除魔术字符串(在代码中频繁出现的变量)
            const shapeType = {
              triangle: 'Triangle'
            };
            function getArea(shape, options) {
              let area = 0;
              switch (shape) {
                case shapeType.triangle:
                  area = .5 * options.width * options.height;
                  break;
              }
              return area;
            }
            getArea(shapeType.triangle, { width: 100, height: 100 });
    3.6 es6新增内容（类java）
        3.6.1 set(添加元素时，不会进行类型转换[5和"5"是两个不同的值])
            主要用于去重：
                [...new Set(array)]             //去除数组中重复数据
                [...new Set('ababbc')].join('') //去除字符串中重复字符
            主要用于并集/交集、差集处理
                let a = new Set([1, 2, 3]);
                let b = new Set([4, 3, 2]);
                // 并集
                let union = new Set([...a, ...b]);
                // Set {1, 2, 3, 4}
                // 交集
                let intersect = new Set([...a].filter(x => b.has(x)));
                // set {2, 3}
                // 差集
                let difference = new Set([...a].filter(x => !b.has(x)));
                // Set {1}
        3.6.2 map (任何数据类型包括对象都可以作为键)
            主要弥补只能字符串为对象的缺点
            可以利用数组，进行数据加工
                const map0 = new Map()
                  .set(1, 'a')
                  .set(2, 'b')
                  .set(3, 'c');
                const map1 = new Map(
                  [...map0].filter(([k, v]) => k < 3)
                );
                // 产生 Map 结构 {1 => 'a', 2 => 'b'}
                const map2 = new Map(
                  [...map0].map(([k, v]) => [k * 2, '_' + v])
                    );
                // 产生 Map 结构 {2 => '_a', 4 => '_b', 6 => '_c'}
        3.6.3 数据类型转换
            3.6.3.1 map转数组
                const myMap = new Map()
                  .set(true, 7)
                  .set({foo: 3}, ['abc']);
                [...myMap]
                // [ [ true, 7 ], [ { foo: 3 }, [ 'abc' ] ] ]
            3.6.3.2 数组转map
                new Map([
                  [true, 7],
                  [{foo: 3}, ['abc']]
                ])
                // Map {
                //   true => 7,
                //   Object {foo: 3} => ['abc']
                // }
            3.6.3.3 map转对象
                function strMapToObj(strMap) {
                  let obj = Object.create(null);
                  for (let [k,v] of strMap) {
                    obj[k] = v;
                  }
                  return obj;
                }
                const myMap = new Map()
                  .set('yes', true)
                  .set('no', false);
                strMapToObj(myMap)
                // { yes: true, no: false }
            3.6.3.4 对象转为 Map
                function objToStrMap(obj) {
                  let strMap = new Map();
                  for (let k of Object.keys(obj)) {
                    strMap.set(k, obj[k]);
                  }
                  return strMap;
                }
                objToStrMap({yes: true, no: false})
                // Map {"yes" => true, "no" => false}
            3.6.3.5 map转json
                3.6.3.5.1 map的键均为字符串
                    function strMapToJson(strMap) {
                      return JSON.stringify(strMapToObj(strMap));
                    }
                    let myMap = new Map().set('yes', true).set('no', false);
                    strMapToJson(myMap)
                    // '{"yes":true,"no":false}'
                3.6.3.5.2 map的键有非字符串
                    function mapToArrayJson(map) {
                      return JSON.stringify([...map]);
                    }
                    let myMap = new Map().set(true, 7).set({foo: 3}, ['abc']);
                    mapToArrayJson(myMap)
                    // '[[true,7],[{"foo":3},["abc"]]]'
            3.6.3.6 json转map
                3.6.3.6.1 所有键名都是字符串
                    function jsonToStrMap(jsonStr) {
                      return objToStrMap(JSON.parse(jsonStr));
                    }
                    jsonToStrMap('{"yes": true, "no": false}')
                    // Map {'yes' => true, 'no' => false}
                3.6.3.6.2 有一种特殊情况，整个 JSON 就是一个数组，且每个数组成员本身，又是一个有两个成员的数组。
                          这时，它可以一一对应地转为 Map。这往往是 Map 转为数组 JSON 的逆操作
                    function jsonToMap(jsonStr) {
                      return new Map(JSON.parse(jsonStr));
                    }
                    jsonToMap('[[true,7],[{"foo":3},["abc"]]]')
                    // Map {true => 7, Object {foo: 3} => ['abc']}
        3.7 proxy 元编程（对编程语言进行编程）
        3.8 Reflect 映射
        3.9 Promise (简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果)
                    (从语法上说，Promise 是一个对象，从它可以获取异步操作的消息)
                    (只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。
                    这也是Promise这个名字的由来，它的英语意思就是“承诺”，表示其他手段无法改变)
                    总之：以同步的方式表达异步
        4.0 for...of 新增迭代遍历[擅长数组]（原有的是 for...in[擅长对象，可与break等配合使用]）
            场景一
                // 例一
                var str = 'hello';
                [...str] //  ['h','e','l','l','o']
        4.1 Generator（ES6 提供的一种异步编程解决方案 [依靠状态和终止函数yield]）
            同步和异步：
                同步：顺序执行
                异步：必须执行完第一步才可以执行第二步
        4.2 async异步
        4.3 Class 的基本语法
            4.3.1 基本用法
                class Bar {
                    doStuff() {
                        console.log('stuff');
                    }
                }
                var b = new Bar();
                b.doStuff() // "stuff"
            4.3.2 基本调用
                let person = new class {
                  constructor(name) {
                    this.name = name;
                  }
                  sayName() {
                    console.log(this.name);
                  }
                }('张三');
                person.sayName(); // "张三"
            4.3.3 ES6 明确规定，Class 内部只有静态方法，没有静态属性
        4.4 class的继承
        4.5 模块（module）[一个模块==一个js文件]
            "编译时加载"或者"静态加载"或者"按需加载"
            模块命令：export（用于规定模块的对外接口）和import（用于输入其他模块提供的功能）
            export：
                4.5.1.变量写法
                    // 写法一
                    export var m = 1;
                    // 写法二
                    var m = 1;
                    export {m};
                    // 写法三
                    var n = 1;
                    export {n as m};
                4.5.2.位置：放置于模块顶层
                4.5.3 函数的两种写法（1.export default时import语句不需要使用大括号，不使用export default时，对应的import语句需要使用大括号）
                    // 第一组
                    export default function crc32() { // 输出
                      // ...
                    }
                    import crc32 from 'crc32'; // 输入
                    // 第二组
                    export function crc32() { // 输出
                      // ...
                    };
                    import {crc32} from 'crc32'; // 输入
            import：（加载这个模块命令）
                4.5.4.语法
                    import { foo, bar } from 'my_module';
            两者适用场景：
                import：按需加载
        4.6 Module 的加载实现
                        </code>
                    </pre>
                </figure>
            </div>
        </div>
    </div>
</body>
    <!--引入外部js文件-->
    <!--jquery-->
    <script src="../../../js/index/jquery-3.3.1.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="../../../product/bootstrap/js/bootstrap.min.js"></script>

    <script type="text/javascript">

    </script>
</html>